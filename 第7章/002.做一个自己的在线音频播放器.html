<!DOCTYPE HTML>
<html>
<head>
    <style>
    div{ width:300px; }
    ul,li{ list-style:none; }
    ul{ padding:5px; }
    li{                                     /* 播放元素 */
        cursor:pointer;
        margin-bottom:5px;
        padding:2px 7px 2px 25px;
        line-height:20px;
        border-radius: 3px;                 /* 圆角 */
        -moz-border-radius: 3px;
        -webkit-border-radius: 3px;
    }
    li:hover{ background-color:#e3e3e3; }   /* 鼠标悬浮播放列表元素 */
    .list{                                  /* 播放列表样式 */
        height:150px;
        font-size:15px;
        border: 1px solid #464646; 
        border-radius: 3px;                 /* 圆角 */
        -moz-border-radius: 3px;
        -webkit-border-radius: 3px;
        background-color: #F5F6F9;
        margin-bottom:10px;
    }
    .run{                                   /* 当前正在播放 */
        background-color:#4BA9E6 !important;
        background: url(../images/running.gif) no-repeat;
        background-position:4px 3px;
    }
    .box{                                   /* 播放器外观 */
        border: 1px solid #464646; 
        border-radius: 3px;                 /* 圆角 */
        -moz-border-radius: 3px;
        -webkit-border-radius: 3px;
        padding: 20px;
        /* 背景色线性渐变 */
        background:-moz-linear-gradient(top,rgb(53, 111, 143),#f6f6f8);
        background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(rgb(53, 111, 143)), to(#f6f6f8));
    }
    </style>
</head>
<body>
    <header><h2>做一个自己的在线音频播放器</h2></header>
    <div class="box">
        <div class="list">
            <!-- 播放列表 -->
            <ul>
                <li class="run">Kalimba.mp3</li>
                <li>MaidWithTheFlaxenHair.mp3</li>
                <li>LightMusic.mp3</li>
            </ul>
        </div>
        <div>
            <!-- 播放器 -->
            <audio src="../res/Kalimba.mp3" controls>
            非常抱歉，您的浏览器不支持audio标签。
            </audio>
        </div>
    </div>
</body>
<script>
    var slice = Array.prototype.slice,
        audio = document.querySelector('audio'),            // 音频播放元素
        // 将获取的播放音频元素列表转化为数组                            
        items = slice.call(document.querySelectorAll('.list li'),0),
        run;
    items.forEach(function (item) {
        item.addEventListener('click', function () {        // 监听元素的click事件
            run = document.querySelector('li.run');         // 获取当前播放的元素
            run.className = '';
            item.className = 'run';                         // 播放给当前点击的音频加入正在播放样式
            // 替换audio的地址为当前点击音频地址
            audio.src = audio.src.replace(run.innerHTML, item.innerHTML);
        });
    });
</script>
</html>
