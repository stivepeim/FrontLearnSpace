<!DOCTYPE html>
<html>
<head>
<title>在iframe中嵌入一个可变大小的编辑器</title>
<script src="../js/jquery-1.8.3.js"></script>
<style>
	.invisible{display: none;}
	.iframe{
		width:400px;
		height:390px; 
		border:1px solid #ccc; 
		border-radius: 5px; 
		-webkit-box-shadow:5px 5px rgba(0,0,0,.6);
		box-shadow:5px 5px rgba(0,0,0,.6);
	}
</style>
</head>
<body>
<textarea class="invisible">
<p>这里是页面上的其他内容</p>
  <iframe scrolling="no" class="iframe" frameborder="0" src="003.在iframe中嵌入一个可变大小的编辑器内容页.html"></iframe>
</textarea>
</body>
<script>
	$(function(){
		var invisibles = $(".invisible");
		var iframe = parseDom(invisibles.text());
		invisibles.replaceWith(iframe);
		iframe = $("iframe");
		window.addEventListener('message', function(evt){
			var iframeOffset = evt.data || {};
			iframe.css({
				width: iframeOffset.width + 50,
				height: iframeOffset.height + 190,
			});
		});
	});
	function parseDom(arg) {
		var objE = document.createElement("div");
		objE.innerHTML = arg;
		return objE.childNodes;
	};
</script>
</html>