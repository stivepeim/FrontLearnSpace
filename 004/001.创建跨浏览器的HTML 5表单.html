<!doctype html>
<html>
<head>
    <link rel="stylesheet" href="../css/jquery-ui-1.9.2.custom.css">
    <link rel="stylesheet" href="../css/colorpicker.css">
    <link rel="stylesheet" href="../css/webforms2.css">
    <link rel="stylesheet" href="../css/html5forms.layout.css">
    <script src="../js/jquery-1.8.3.js"></script>
    <script src="../js/jquery-ui-1.9.2.custom.js"></script>
    <script src="../js/jquery.placeholder.js"></script>
    <script src="../js/colorpicker.js"></script>
    <script src="../js/modernizr.custom.2.6.2.js"></script>
    <script src="../js/webforms2_src.js"></script>
</head>
<body>
    <header>
        <h2>创建跨浏览器的HTML 5表单</h2>
    </header>
    <form>
    <div>
        <label for="placeholder">姓名</label>
        <input id="placeholder" name="placeholder" type="text" placeholder="请输入" required />
    </div>
    <div>
        <label for="spinner">年龄</label>
        <span class="age">
            <input id="spinner" name="spinner" type="number" min="1" max="100" step="1" required />
        </span>
    </div>
    <div>
        <label for="datepicker">生日</label>
        <input id="datepicker" name="datepicker" type="date" required />
    </div>
    <div>
        <label for="range">个人状况</label>
        <input id="range" name="range" type="range" min="1" max="5" value="1" step="1" />
        <div id="slider" style="display: none;" class="slider" min="1" max="5" value="1" step="1"></div>
        <span id="state" class="tip">单身</span>
    </div>
    <div>
        <label for="colorpicker">幸运色</label>
        <input id="colorpicker" name="colorpicker" type="color" value="#e71605" />
        <span id="colorpicker-span"></span>
    </div>
    <div>
        <label for="url">博客</label>
        <input type="url" id="url" name="url" placeholder="http://www.xxx.com" required />
    </div>
    <div>
        <label for="email">邮箱</label>
        <input type="email" id="email" name="email" placeholder="xxx@xxx.com" required />
    </div>
    <button type="submit">提交</button>
    </form>
</body>
<script>
    //个人状况数据枚举
    var STATE_HASH = {
        '1': '单身',
        '2': '热恋',
        '3': '备婚',
        '4': '已婚',
        '5': '保密'
    };
    if (!Modernizr.inputtypes.number) {     //判断input是否number类型	
        $("#spinner").spinner();
    };
    if (!Modernizr.inputtypes.date) {       //判断input是否date类型	
        $("#datepicker").datepicker();
    };
    if (!Modernizr.input.placeholder) {     //判断input是否placeholder类型
        $("#placeholder").addClass('placeholder').placeholder();
        $("#url").addClass('placeholder').placeholder();
        $("#email").addClass('placeholder').placeholder();
    };
    if (!Modernizr.inputtypes.color) {      //判断input是否color类型
        $("#colorpicker").hide();           //隐藏color文本输入框
        //初始化ColorPicker组件并添加确认回调函数onSubmit
        $("#colorpicker-span").ColorPicker({
            onSubmit: function (hsb, hex, rgb, el) {
                $(el).css('background', '#' + hex);
            }
        }).show();
    };
    if (!Modernizr.inputtypes.range) {      //判断input是否range类型
        $('#range').hide();                 //隐藏range文本输入框
        $('#slider').show().slider({        //使用jQuery UI 初始化slider控件
            min: 1,                         //拖动最小值
            max: 5,                         //拖动最大值
            step: 1,                        //拖动间隔
            change: function (event, ui) {
                //获取拖动的值从个人状况枚举中获取对应类型
                $("#state").html(STATE_HASH[ui.value]);
            }
        });
    } else {
        $('#range').on('change', function () {
            //从个人状况枚举中获取对应类型
            $("#state").html(STATE_HASH[$(this).val()]);
        });
    };
</script>
</html>
