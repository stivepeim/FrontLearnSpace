<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ArrFilter</title>
</head>
<body>
<script>
    var arr = [1,2,3,4,5,6];
    var arr1 = [9,,,,,,,8]; // 中间省略掉的会实例化为undefined
    var arr2 = [7,2,3,]; // 后面跟逗号则会忽略
    //////////////////////////////////////////////////////////////////////////////// 属性
    console.group('Array property');
    console.log(arr.length);
    console.log(Array.prototype); // 自己本身就是一个Array
    // 自定义添加方法获取数组第一位
    if(!Array.prototype.first){
        Array.prototype.first = function(){
            console.log('自己添加了获取数组第一位的方法');
            return this[0];
        }
    }
    console.log(arr1.first());
    console.log('Array.prototype原型',Array.isArray(Array.prototype));
    // Array.prototype[@@unscopables] 属性的属性特征
    var keys =[];
    with(Array.prototype) {
        keys.push('somthing');
    }
    Object.keys(Array.prototype[Symbol.unscopables]);
    console.log('keys',keys);
    console.groupEnd();

    /////////////////////////////////////////////////////////////////////////// 方法
    console.log('Arrar methods');
    console.group('Arrar.from()');
    // Array.from() 方法从一个类似数组或者可迭代的对象中创建一个新的数组实例
    // Array.from 的参数列表
    // 1:arrayLike 想要转换成数组或者可迭代的对象
    // 2:可选 迭代的元素
    // 3:可选 执行迭代时的this对象
    console.log('Array.from()1',Array.from('foo'));
    console.log('Array.from()2',Array.from([7,8,9],(x)=>{console.log(x)}));
    console.log('Array.from()3',Array.from([1,2,3],x=> x + x));
    console.groupEnd();
    
    console.group('Array.isArray()');
    console.log(Array.isArray([1,2]));
    console.log(Array.isArray({xx:1}));
    console.log(Array.isArray('xxx'));
    console.log(Array.isArray(undefined));
    // instanceof和isArray 但检测Array实例时isArray优于instanceof 因为isArray能检测iframes
    console.groupEnd();

    // Array.of() 创建一个具有可变数量参数的新数组实例,而不考虑数组的类型或者数量
    // Array.of()和Array构造函数之间最大的区别在于处理整数参数Array.of(7)=[7] Array(7)=[,,,,,,]
    // 参数任意 返回一个新的数组
    console.group('Array.of()');
    console.log(Array.of(7).toString());
    console.log(Array.of(1,2,3).toString());
    console.log(Array(7).toString());
    console.log(Array(1,2,3).toString());
    console.log(Array.of({x:1}));
    console.groupEnd();
    
    // concat 用于合并两个或者多个数组,此方法不会更改现有数组,而是返回一个新的数组
    console.group('concat()');
    var carr1 = [1,2,3];
    var carr2 = ['1','2','3'];
    var carr3 = [{age:18},{car:'beaz'},{gril:'japan'}];
    console.log(carr1.concat(carr2,carr3));
    console.groupEnd();

    // copyWithin()浅复制数组的一部分到同已数组的另一个部分,并返回它,而不修改其大小
    // 参数数字均为索引
    // 参数1 target 要替换的目标位置,如果时负数将从末尾开始计算,大于数组会忽略,如果target在start之后,复制的列将被修改符合arr.length
    // 参数2 start 负数将从末尾开始计算,如果被忽略讲从0开始赋值
    // 参数3 end 结束copy 负数从末尾开始计算
    console.group('copyWithin()');
    var cwarr1 = [1,2,3,4,5];
    console.log(cwarr1.copyWithin(0,3,4));
    console.log(cwarr1.copyWithin(1,3));
    console.log(cwarr1.copyWithin(0,4));
    console.log(cwarr1.copyWithin(3));
    console.log(cwarr1.copyWithin(-3));
    console.groupEnd();

    // entries() 返回一个新的Array Iterator对象,该对象包含数组中每个索引的键值对
    console.group('entries()');
    var earr1 = ['a','b','c'];
    var eit1 = earr1.entries();
    console.log(eit1.next().value);
    console.log(eit1.next().value);
    console.groupEnd();

    // every() 测试数组的所有元素是否都通过了指定函数的测试
    console.group('every()');
    function isOK(currentValue){
        return currentValue < 40;
    }
    var evarr = [1,30,39,20,11,6];
    console.log(evarr.every(isOK));
    console.groupEnd();

    // fill 用一个固定值填充一个数组从其实索引到终止索引内的全部元素,不包括终止索引
    console.group('fill()');
    var farr1 = [1,2,3,4];
    console.log(farr1.fill(0,2,4));
    console.log(farr1.fill(5,1));
    console.log(farr1.fill(6));
    console.groupEnd();

    // filter() 创建一个新的数组,包含所提供函数实现的测试的所有元素
    console.group('filter()');
    var farr1 = ['shanxi','shanghai','beijing','chongqing','chengdu','qianxian'];
    const faResult1 = farr1.filter(city => city.length > 7);
    const faResult2 = farr1.filter(city => { return city.length > 4});
    console.log('faResult1',faResult1);
    console.log('faResult2',faResult2);
    console.groupEnd();

    console.group('splice()');
    const salist = [1,2,3,4,5,6,7,8,9,10];
    console.log(salist.splice(2,1));
    console.groupEnd();

// reverse() 方法将数组中元素的位置颠倒。 应该是以下标为凭据颠倒内容的
    console.group('reverse');
    const forReverseArr1 = [1,2,3,4,5,6,7,8,9,0];
    const forReverseArr2 = ['行行','园园','明明','帅帅']
    const forReverseString1 = 'Hello Vue I`m Stivepeim'
    console.log(forReverseArr1.reverse())
    console.log(forReverseArr2.reverse())
    console.log(forReverseString1.split('').reverse().join(''))
    console.groupEnd()
</script>
</body>
</html>
